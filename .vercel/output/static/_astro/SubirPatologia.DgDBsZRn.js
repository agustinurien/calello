import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.BJfUAbRs.js";/* empty css                                 */import{d as O,b as w,a as D,f as T,u as F,c as G}from"./funciones.FvOhgKQX.js";const J=()=>{const[a,n]=s.useState(!1),[y,i]=s.useState(!1),[l,c]=s.useState(""),[u,E]=s.useState(""),[d,m]=s.useState(""),[p,r]=s.useState(!1),[I,q]=s.useState([]),[h,x]=s.useState(""),[g,b]=s.useState(""),[f,j]=s.useState(""),[C,v]=s.useState(""),[P,S]=s.useState(""),[N,L]=s.useState(!1),[M,A]=s.useState([]),R=async e=>{e.preventDefault(),r(!0);try{await F({nombre:l,resumen:u,explicacion:d}),alert("Post subido con éxito"),c(""),m(""),n(!a)}catch(o){console.error("Error al subir el post:",o),alert("Error al subir el post")}r(!1)};s.useEffect(()=>{(async()=>{try{const o=await D();console.log("Posts fetched:",o),q(o)}catch(o){console.error("Error fetching posts:",o)}})()},[a]);const k=async e=>{e.preventDefault(),L(!0);try{await G({nombre:h,direccionModalidad:g,masInformacion:f,adicional:C,linkConsultorio:P}),alert("Post subido con éxito"),x(""),b(""),j(""),v(""),S(""),i(!a)}catch(o){console.error("Error al subir el post:",o),alert("Error al subir el post")}r(!1)};return s.useEffect(()=>{(async()=>{try{const o=await T();console.log("Posts fetched:",o),A(o)}catch(o){console.error("Error fetching posts:",o)}})()},[y]),t.jsxs("div",{className:"uploadFirebase",children:[t.jsxs("section",{className:"subirPatologia",children:[t.jsxs("form",{onSubmit:R,className:"formContainer",children:[t.jsx("input",{type:"text",placeholder:"Nombre",value:l,onChange:e=>c(e.target.value),required:!0}),t.jsx("input",{type:"text",placeholder:"Resumen",value:u,onChange:e=>E(e.target.value),required:!0}),t.jsx("textarea",{placeholder:"Explicacion de la patología",value:d,onChange:e=>m(e.target.value),required:!0}),t.jsx("button",{type:"submit",disabled:p,children:p?"Subiendo...":"Publicar"})]}),t.jsxs("div",{className:"eliminarPatologiaContainer",children:[t.jsx("h2",{children:"ELIMINAR PATOLOGIA"}),t.jsx("div",{className:"patologiasContainer",children:I.map((e,o)=>t.jsxs("div",{className:"patologiaItem",children:[t.jsx("h3",{children:e.nombre}),t.jsx("p",{children:e.resumen}),t.jsx("button",{onClick:()=>n(O(e.id)),children:"Eliminar"})]},o))})]})]}),t.jsxs("section",{className:"subirConsultorio",children:[t.jsxs("form",{onSubmit:k,className:"formContainer",children:[t.jsx("input",{type:"text",placeholder:"Nombre Consultorio",value:h,onChange:e=>x(e.target.value),required:!0}),t.jsx("input",{type:"text",placeholder:"Direccion/Modalidad",value:g,onChange:e=>b(e.target.value),required:!0}),t.jsx("input",{type:"text",placeholder:"Mas Informacion",value:f,onChange:e=>j(e.target.value),required:!0}),t.jsx("input",{type:"text",placeholder:"Adicional",value:C,onChange:e=>v(e.target.value),required:!0}),t.jsx("input",{type:"text",placeholder:"Link consultorio",value:P,onChange:e=>S(e.target.value),required:!0}),t.jsx("button",{type:"submit",disabled:N,children:N?"Subiendo...":"Publicar"})]}),t.jsxs("div",{className:"eliminarPatologiaContainer",children:[t.jsx("h2",{children:"ELIMINAR CONSULTORIO"}),t.jsx("div",{className:"patologiasContainer",children:M.map((e,o)=>t.jsxs("div",{className:"patologiaItem",children:[t.jsx("h3",{children:e.nombre}),t.jsx("button",{onClick:()=>i(w(e.id)),children:"Eliminar"})]},o))})]})]})]})};export{J as default};
